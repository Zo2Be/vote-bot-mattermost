# Бот для голосования в мессенджере Mattermost

## Описание
Этот бот позволяет создавать голосования, голосовать за предложенные варианты, просматривать результаты, а также завершать или удалять голосования в Mattermost.

## Функционал бота
**1. Создание голосования**
- Команда: !create <вопрос> | <варианты через запятую>
- Пример: !create Какой ваш любимый цвет? | Красный, Синий, Зеленый

**2. Голосование**
- Команда: !vote <poll_id> <вариант>
- Пример: !vote poll-123 Синий

**3. Просмотр результатов**
- Команда: !results <poll_id>
- Пример: !results poll-123

**4. Завершение голосования**
- Команда: !close <poll_id>
- Пример: !close poll-123

**5. Удаление голосования**
- Команда: !delete <poll_id>
- Пример: !delete poll-123

**6. Вывод списка команд**
- Команда: !help

## Инструкция для развертывания
**1. Клонировать репозиторий**
```bash
git clone https://github.com/Zo2Be/vote-bot-mattermost.git
```
**2. Перейти в каталог проекта**
**Для Windows:**
```bash
cd .\vote-bot-mattermost
```
**Для Linux/Mac:**
```bash
cd ./vote-bot-mattermost
```
**3. Запустить Docker контейнеры**
```bash docker-compose up -d ```

**4. Зарегистрировать аккаунт в Mattermost**

Перейдите на [Mattermost](http://localhost:8065) и создайте аккаунт.

**5. Включить возможность создания бота**
- Перейдите в System Console > Integrations > Bot Accounts.
- Установите Enable Bot Account Creation в положение True и сохраните изменения.

**6. Создать бота**
- Перейдите в Integrations > Bot Accounts > Add Bot Account.
- Укажите имя пользователя для бота (обязательно).
- После создания бота, сохраните его Token.

**7. Пригласить бота в команду**
- Перейдите в команду: + > Invite People > Username бота > Invite.
- Или создайте новую команду: Create a team > Название команды > Finish.

**8. Настроить файл конфигурации**
- Переименуйте .env.example в .env.
- Заполните следующие поля:
    - MM_TEAM — название вашей команды в Mattermost.
    - MM_TOKEN — токен, полученный при создании бота.
    - MM_CHANNEL — канал, в который бот будет отправлять сообщения.
    - MM_USERNAME — имя пользователя бота.

**9. Запустить приложение**
```bash
go run -tags go_tarantool_ssl_disable .
```

**10. Проверить работоспособность**

После запуска приложения, бот отправит приветственное сообщение в указанный канал. Если сообщение пришло — бот готов к использованию!